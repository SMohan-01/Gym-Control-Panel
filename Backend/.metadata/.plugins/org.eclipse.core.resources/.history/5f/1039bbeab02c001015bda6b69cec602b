package in.mohan.gym_management_system.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import in.mohan.gym_management_system.entity.PackageEntity;
import in.mohan.gym_management_system.service.PackageService;

@RestController
@RequestMapping("/api/v1")
public class PackageController {
	
	private final PackageService packageService;

	@Autowired
	public PackageController(PackageService packageService) {
		super();
		this.packageService = packageService;
	}

	@GetMapping("/packages/allPackages")
    public ResponseEntity<List<PackageEntity>> getAllPackages() {
        List<PackageEntity> packages = packageService.getAllPackages();
        return ResponseEntity.ok(packages);
    }
	
	 @GetMapping("/packages/allActivePackages")
	    public ResponseEntity<List<PackageEntity>> getActivePackages() {
	        List<PackageEntity> packages = packageService.getActivePackages();
	        return ResponseEntity.ok(packages);
	    }
	 
	 @PostMapping("/packages/createPackage")
	    public ResponseEntity<PackageEntity> createPackage(@RequestBody PackageEntity packageEntity) {
	        PackageEntity createdPackage = packageService.createPackage(packageEntity);
	        return ResponseEntity.status(HttpStatus.CREATED).body(createdPackage);
	    }
	 
	 @PutMapping("/packages/editP/{id}")
	    public ResponseEntity<PackageEntity> updatePackage(@PathVariable Long id, @RequestBody PackageEntity packageEntity) {
	        PackageEntity updatedPackage = packageService.updatePackage(id, packageEntity);
	        return ResponseEntity.ok(updatedPackage);
	    }
}
